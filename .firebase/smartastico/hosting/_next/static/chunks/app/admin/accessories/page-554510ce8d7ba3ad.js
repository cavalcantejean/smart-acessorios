(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4015],{6725:(e,s,a)=>{"use strict";a.d(s,{default:()=>k});var r=a(95155),t=a(12115),n=a(30285),l=a(85127),i=a(26126),c=a(66766),d=a(6874),o=a.n(d),h=a(61840),u=a(8376),m=a(24371),x=a(18763),j=a(50172),f=a(77223),p=a(87481),v=a(37349),N=a(35317),g=a(66681),A=a(34477);let b=(0,A.createServerReference)("4050dde0e96074c421d322d7db08f09c617e8652a3",A.callServer,void 0,A.findSourceMapURL,"deleteAccessoryAction"),y=e=>{let s;if(!e)return"N/A";if(e instanceof Date)s=e;else if(e instanceof N.Dc)s=e.toDate();else if("string"==typeof e)s=new Date(e);else{if("object"!=typeof e||null===e||"number"!=typeof e.seconds||"number"!=typeof e.nanoseconds)return"Data inv\xe1lida";s=new N.Dc(e.seconds,e.nanoseconds).toDate()}return isNaN(s.getTime())?"Data inv\xe1lida":s.toLocaleDateString("pt-BR")};function k(e){let{initialAccessories:s}=e,[a,d]=(0,t.useState)(s),{toast:N}=(0,p.dj)(),[A,k]=(0,t.useState)(null),{user:w,isAuthenticated:S}=(0,g.A)(),[E,C]=(0,t.useState)(!1),[D,M]=(0,t.useTransition)();(0,t.useEffect)(()=>{d(s)},[s]);let R=async()=>{if(!S||!(null==w?void 0:w.id)){N({title:"N\xe3o autenticado",description:"Voc\xea precisa estar logado como administrador para excluir.",variant:"destructive"}),k(null);return}if(!A)return void N({title:"Erro Interno",description:"Nenhum acess\xf3rio selecionado para exclus\xe3o.",variant:"destructive"});C(!0),M(async()=>{let e=await b(A.id);e.success?N({title:"Sucesso!",description:e.message}):N({title:"Erro ao Excluir",description:e.message||"Ocorreu um erro desconhecido.",variant:"destructive"}),C(!1),k(null)})};return(0,r.jsxs)(v.Lt,{open:!!A,onOpenChange:e=>{e||k(null)},children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.A0,{children:(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nd,{className:"w-[80px] hidden sm:table-cell",children:"Imagem"}),(0,r.jsx)(l.nd,{children:"Nome"}),(0,r.jsx)(l.nd,{className:"hidden md:table-cell",children:"Categoria"}),(0,r.jsx)(l.nd,{className:"hidden lg:table-cell",children:"Pre\xe7o"}),(0,r.jsx)(l.nd,{className:"text-center hidden sm:table-cell",children:"\xc9 Oferta?"}),(0,r.jsx)(l.nd,{className:"hidden lg:table-cell",children:"Criado em"}),(0,r.jsx)(l.nd,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)(l.BF,{children:a.length>0?a.map(e=>(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nA,{className:"hidden sm:table-cell",children:(0,r.jsx)("div",{className:"relative h-12 w-12 rounded-md overflow-hidden",children:(0,r.jsx)(c.default,{src:e.imageUrl,alt:e.name,fill:!0,style:{objectFit:"cover"},sizes:"48px","data-ai-hint":e.imageHint||"product accessory"})})}),(0,r.jsx)(l.nA,{className:"font-medium max-w-[200px] truncate",children:(0,r.jsxs)(o(),{href:"/accessory/".concat(e.id),target:"_blank",className:"hover:underline",title:e.name,children:[e.name," ",(0,r.jsx)(h.A,{className:"inline h-3 w-3 ml-0.5 text-muted-foreground"})]})}),(0,r.jsx)(l.nA,{className:"hidden md:table-cell",children:e.category||"N/A"}),(0,r.jsx)(l.nA,{className:"hidden lg:table-cell",children:e.price?"R$".concat(e.price.replace(".",",")):"N/A"}),(0,r.jsx)(l.nA,{className:"text-center hidden sm:table-cell",children:e.isDeal?(0,r.jsxs)(i.E,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:[(0,r.jsx)(u.A,{className:"mr-1 h-3.5 w-3.5"})," Sim"]}):(0,r.jsxs)(i.E,{variant:"secondary",children:[(0,r.jsx)(m.A,{className:"mr-1 h-3.5 w-3.5"})," N\xe3o"]})}),(0,r.jsx)(l.nA,{className:"hidden lg:table-cell text-xs",children:y(e.createdAt)}),(0,r.jsxs)(l.nA,{className:"text-right space-x-1 sm:space-x-2",children:[(0,r.jsx)(n.$,{variant:"outline",size:"icon",asChild:!0,title:"Editar Acess\xf3rio",children:(0,r.jsx)(o(),{href:"/admin/accessories/".concat(e.id,"/edit"),children:(0,r.jsx)(x.A,{className:"h-4 w-4"})})}),(0,r.jsx)(v.tv,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"destructive",size:"icon",onClick:()=>k(e),disabled:E||D,title:"Excluir Acess\xf3rio",children:E&&(null==A?void 0:A.id)===e.id||D&&(null==A?void 0:A.id)===e.id?(0,r.jsx)(j.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(f.A,{className:"h-4 w-4"})})})]})]},e.id)):(0,r.jsx)(l.Hj,{children:(0,r.jsx)(l.nA,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"Nenhum acess\xf3rio encontrado."})})})]})}),(0,r.jsx)(v.EO,{children:A&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.wd,{children:[(0,r.jsx)(v.r7,{children:"Confirmar Exclus\xe3o"}),(0,r.jsxs)(v.$v,{children:['Tem certeza que deseja excluir o acess\xf3rio "',A.name,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,r.jsxs)(v.ck,{children:[(0,r.jsx)(v.Zr,{disabled:E,children:"Cancelar"}),(0,r.jsxs)(v.Rx,{onClick:R,disabled:E||D||!S,className:"bg-destructive hover:bg-destructive/90",children:[E||D?(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Excluir"]})]})]})})]})}},8376:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},18763:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},24371:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},29676:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.bind(a,6725))},34477:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{callServer:function(){return r.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return t.findSourceMapURL}});let r=a(53806),t=a(31818),n=a(34979).createServerReference},61840:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,6073,6874,3796,9502,294,6766,1263,5452,6985,8441,1684,7358],()=>s(29676)),_N_E=e.O()}]);