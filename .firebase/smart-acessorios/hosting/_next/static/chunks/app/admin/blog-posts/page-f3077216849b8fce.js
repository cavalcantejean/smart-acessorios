(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3993],{18763:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},34477:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return i.findSourceMapURL}});let s=a(53806),i=a(31818),l=a(34979).createServerReference},61840:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},66939:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.bind(a,78113))},78113:(e,t,a)=>{"use strict";a.d(t,{default:()=>k});var s=a(95155),i=a(12115),l=a(30285),n=a(85127),r=a(66766),d=a(6874),c=a.n(d),o=a(61840),h=a(98328),u=a(18763),m=a(50172),x=a(77223),p=a(87481),v=a(37349),j=a(26126),f=a(35317),g=a(66681),b=a(34477);let y=(0,b.createServerReference)("4042bd77586ab0377453ba32e7adfeaf2c10704105",b.callServer,void 0,b.findSourceMapURL,"deletePostAction"),N=e=>{let t;if(!e)return"N/A";if(e instanceof Date)t=e;else if(e instanceof f.Dc)t=e.toDate();else if("string"==typeof e)t=new Date(e);else{if("object"!=typeof e||null===e||"number"!=typeof e.seconds||"number"!=typeof e.nanoseconds)return"Data inv\xe1lida";t=new f.Dc(e.seconds,e.nanoseconds).toDate()}return isNaN(t.getTime())?"Data inv\xe1lida":t.toLocaleDateString("pt-BR",{year:"numeric",month:"short",day:"numeric"})};function k(e){let{initialPosts:t}=e,[a,d]=(0,i.useState)(t),{toast:f}=(0,p.dj)(),[b,k]=(0,i.useState)(null),[A,w]=(0,i.useState)(!1),{user:M,isAuthenticated:E}=(0,g.A)(),[S,C]=(0,i.useTransition)();(0,i.useEffect)(()=>{d(t)},[t]);let D=async()=>{if(!E||!(null==M?void 0:M.id)){f({title:"N\xe3o autenticado",description:"Voc\xea precisa estar logado como administrador para excluir.",variant:"destructive"}),k(null);return}if(!b)return void f({title:"Erro Interno",description:"Nenhum post selecionado para exclus\xe3o.",variant:"destructive"});w(!0),C(async()=>{let e=await y(b.id);e.success?f({title:"Sucesso!",description:e.message}):f({title:"Erro ao Excluir",description:e.message||"Ocorreu um erro desconhecido.",variant:"destructive"}),w(!1),k(null)})};return(0,s.jsxs)(v.Lt,{open:!!b,onOpenChange:e=>{e||k(null)},children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(n.XI,{children:[(0,s.jsx)(n.A0,{children:(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nd,{className:"w-[80px] hidden sm:table-cell",children:"Imagem"}),(0,s.jsx)(n.nd,{children:"T\xedtulo"}),(0,s.jsx)(n.nd,{className:"hidden md:table-cell",children:"Autor"}),(0,s.jsx)(n.nd,{className:"hidden lg:table-cell",children:"Categoria"}),(0,s.jsx)(n.nd,{className:"hidden lg:table-cell",children:"Publicado em"}),(0,s.jsx)(n.nd,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)(n.BF,{children:a.map(e=>(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nA,{className:"hidden sm:table-cell",children:(0,s.jsx)("div",{className:"relative h-12 w-12 rounded-md overflow-hidden",children:(0,s.jsx)(r.default,{src:e.imageUrl,alt:e.title,fill:!0,style:{objectFit:"cover"},sizes:"48px","data-ai-hint":e.imageHint||"blog post"})})}),(0,s.jsx)(n.nA,{className:"font-medium max-w-[250px] truncate",children:(0,s.jsxs)(c(),{href:"/blog/".concat(e.slug),target:"_blank",className:"hover:underline",title:e.title,children:[e.title," ",(0,s.jsx)(o.A,{className:"inline h-3 w-3 ml-0.5 text-muted-foreground"})]})}),(0,s.jsx)(n.nA,{className:"hidden md:table-cell",children:e.authorName}),(0,s.jsx)(n.nA,{className:"hidden lg:table-cell",children:e.category?(0,s.jsx)(j.E,{variant:"outline",children:e.category}):"N/A"}),(0,s.jsx)(n.nA,{className:"hidden lg:table-cell text-xs",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(h.A,{className:"h-3.5 w-3.5 text-muted-foreground"}),N(e.publishedAt)]})}),(0,s.jsxs)(n.nA,{className:"text-right space-x-1 sm:space-x-2",children:[(0,s.jsx)(l.$,{variant:"outline",size:"icon",asChild:!0,title:"Editar Post",children:(0,s.jsx)(c(),{href:"/admin/blog-posts/".concat(e.id,"/edit"),children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})}),(0,s.jsx)(v.tv,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"destructive",size:"icon",onClick:()=>k(e),disabled:A||S,title:"Excluir Post",children:A&&(null==b?void 0:b.id)===e.id||S&&(null==b?void 0:b.id)===e.id?(0,s.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(x.A,{className:"h-4 w-4"})})})]})]},e.id))})]})}),(0,s.jsx)(v.EO,{children:b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.wd,{children:[(0,s.jsx)(v.r7,{children:"Confirmar Exclus\xe3o"}),(0,s.jsxs)(v.$v,{children:['Tem certeza que deseja excluir o post "',b.title,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,s.jsxs)(v.ck,{children:[(0,s.jsx)(v.Zr,{disabled:A,children:"Cancelar"}),(0,s.jsxs)(v.Rx,{onClick:D,disabled:A||S||!E,className:"bg-destructive hover:bg-destructive/90",children:[A||S?(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Excluir"]})]})]})})]})}},98328:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,6073,6874,3796,2964,6257,6766,5373,5452,6985,8441,1684,7358],()=>t(66939)),_N_E=e.O()}]);