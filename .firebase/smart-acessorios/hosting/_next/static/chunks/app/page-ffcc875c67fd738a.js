(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{22346:(e,t,s)=>{"use strict";s.d(t,{Separator:()=>i});var a=s(95155),r=s(12115),l=s(87489),o=s(59434);let i=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:i=!0,...n}=e;return(0,a.jsx)(l.b,{ref:t,decorative:i,orientation:r,className:(0,o.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...n})});i.displayName=l.b.displayName},25868:(e,t,s)=>{"use strict";s.d(t,{r:()=>o});var a=s(12115);let r="smartAccessoryFavorites";function l(){let e=localStorage.getItem(r);try{return e?JSON.parse(e):[]}catch(e){return console.error("Error parsing favorites from localStorage",e),[]}}function o(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{t(l())},[]);let s=(0,a.useCallback)(e=>{t(t=>{let s=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem(r,JSON.stringify(s)),window.dispatchEvent(new CustomEvent("favoritesUpdated",{detail:s})),s})},[]);(0,a.useEffect)(()=>{let e=()=>{t(l())},s=e=>{if(e.detail){let s=e.detail;setTimeout(()=>{t(s)},0)}};return window.addEventListener("storage",e),window.addEventListener("favoritesUpdated",s),()=>{window.removeEventListener("storage",e),window.removeEventListener("favoritesUpdated",s)}},[]);let o=(0,a.useCallback)(t=>e.includes(t),[e]);return{favoriteIds:e,toggleFavorite:s,isFavorite:o}}},26126:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(95155);s(12115);var r=s(74466),l=s(59434);let o=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(o({variant:s}),t),...r})}},27820:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var a=s(95155),r=s(66766),l=s(6874),o=s.n(l),i=s(66695),n=s(30285),c=s(91420),d=s(25868),u=s(66681);function m(e){let{accessory:t,priority:s=!1}=e,{isFavorite:l,toggleFavorite:m}=(0,d.r)(),{isAuthenticated:f,isLoading:h}=(0,u.A)(),x=l(t.id);return(0,a.jsxs)(i.Zp,{className:"flex flex-col overflow-hidden rounded-lg shadow-lg transition-all hover:shadow-xl h-full",children:[(0,a.jsx)(o(),{href:"/accessory/".concat(t.id),className:"block",children:(0,a.jsx)(i.aR,{className:"p-0",children:(0,a.jsx)("div",{className:"aspect-video relative w-full",children:(0,a.jsx)(r.default,{src:t.imageUrl,alt:t.name,fill:!0,style:{objectFit:"cover"},sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"rounded-t-lg","data-ai-hint":t.imageHint||"accessory product",priority:s})})})}),(0,a.jsxs)(i.Wu,{className:"p-4 flex-grow",children:[(0,a.jsx)(o(),{href:"/accessory/".concat(t.id),className:"block",children:(0,a.jsx)(i.ZB,{className:"text-lg font-headline mb-1 hover:text-primary transition-colors",children:t.name})}),(0,a.jsx)(i.BT,{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:t.shortDescription}),t.price&&(0,a.jsxs)("p",{className:"text-base font-semibold text-primary",children:["R$",t.price.replace(".",",")]})]}),(0,a.jsxs)(i.wL,{className:"p-4 flex justify-between items-center border-t",children:[(0,a.jsx)(n.$,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsx)(o(),{href:"/accessory/".concat(t.id),children:"Ver Detalhes"})}),!h&&f&&(0,a.jsx)(c.A,{isFavorite:x,onClick:()=>m(t.id)})]})]})}},45056:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var a=s(95155),r=s(66766),l=s(6874),o=s.n(l),i=s(66695),n=s(91394),c=s(28294),d=s(98328),u=s(26126),m=s(12115);function f(e){let{post:t}=e,[s,l]=(0,m.useState)(null);return(0,m.useEffect)(()=>{l(new Date(t.publishedAt).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}))},[t.publishedAt]),(0,a.jsxs)(i.Zp,{className:"flex flex-col overflow-hidden rounded-lg shadow-lg transition-all hover:shadow-xl h-full",children:[(0,a.jsx)(o(),{href:"/blog/".concat(t.slug),className:"block group",children:(0,a.jsx)(i.aR,{className:"p-0",children:(0,a.jsx)("div",{className:"aspect-video relative w-full overflow-hidden rounded-t-lg",children:(0,a.jsx)(r.default,{src:t.imageUrl,alt:t.title,fill:!0,style:{objectFit:"cover"},className:"transition-transform duration-300 group-hover:scale-105",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw","data-ai-hint":t.imageHint||"blog post"})})})}),(0,a.jsxs)(i.Wu,{className:"p-6 flex-grow",children:[t.category&&(0,a.jsx)(u.E,{variant:"secondary",className:"mb-2 text-xs",children:t.category}),(0,a.jsx)(o(),{href:"/blog/".concat(t.slug),className:"block",children:(0,a.jsx)(i.ZB,{className:"text-xl font-headline mb-2 hover:text-primary transition-colors line-clamp-2",children:t.title})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3",children:t.excerpt})]}),(0,a.jsxs)(i.wL,{className:"p-6 border-t flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.eu,{className:"h-6 w-6",children:[t.authorAvatarUrl?(0,a.jsx)(n.BK,{src:t.authorAvatarUrl,alt:t.authorName,"data-ai-hint":t.authorAvatarHint||"author avatar"}):null,(0,a.jsx)(n.q5,{children:(0,a.jsx)(c.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("span",{children:t.authorName})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("time",{dateTime:t.publishedAt,children:s||"Carregando data..."})]})]})]})}},54237:(e,t,s)=>{Promise.resolve().then(s.bind(s,66625))},62523:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var a=s(95155),r=s(12115),l=s(59434);let o=r.forwardRef((e,t)=>{let{className:s,type:r,...o}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...o})});o.displayName="Input"},66625:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Y});var a=s(95155),r=s(12115),l=s(93473),o=s(27820),i=s(89432),n=s(66695),c=s(91386);function d(e){let{testimonial:t}=e;return(0,a.jsxs)(n.Zp,{className:"flex flex-col overflow-hidden rounded-lg shadow-lg h-full bg-card",children:[(0,a.jsx)(n.aR,{className:"pb-2 pt-6 px-6",children:(0,a.jsx)(c.A,{className:"h-8 w-8 text-primary/50 mb-2 transform scale-x-[-1]","aria-hidden":"true"})}),(0,a.jsx)(n.Wu,{className:"p-6 pt-0 flex-grow",children:(0,a.jsxs)("blockquote",{className:"text-base text-foreground leading-relaxed italic",children:['"',t.quote,'"']})}),(0,a.jsx)(n.wL,{className:"p-6 pt-4 border-t bg-secondary/30",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:t.name}),t.role&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t.role})]})})]})}var u=s(45056),m=s(50172),f=s(30462),h=s(53054),x=s(19968),p=s(75182),g=s(94394),j=s(50286),N=s(42625),v=s(22346),w=s(6874),b=s.n(w),y=s(30285),A=s(62523),C=s(8194),S=s(79556),D=s(77381),E=s(10518),R=s(59434);let I=C.bL;C.YJ;let T=C.WT,U=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(C.l9,{ref:t,className:(0,R.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(C.In,{asChild:!0,children:(0,a.jsx)(S.A,{className:"h-4 w-4 opacity-50"})})]})});U.displayName=C.l9.displayName;let O=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.PP,{ref:t,className:(0,R.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(D.A,{className:"h-4 w-4"})})});O.displayName=C.PP.displayName;let k=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.wn,{ref:t,className:(0,R.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(S.A,{className:"h-4 w-4"})})});k.displayName=C.wn.displayName;let L=r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...o}=e;return(0,a.jsx)(C.ZL,{children:(0,a.jsxs)(C.UC,{ref:t,className:(0,R.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...o,children:[(0,a.jsx)(O,{}),(0,a.jsx)(C.LM,{className:(0,R.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(k,{})]})})});L.displayName=C.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.JU,{ref:t,className:(0,R.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=C.JU.displayName;let F=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(C.q7,{ref:t,className:(0,R.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(C.VF,{children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})}),(0,a.jsx)(C.p4,{children:r})]})});F.displayName=C.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.wv,{ref:t,className:(0,R.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=C.wv.displayName;var z=s(85005),_=s(12543);let P=r.createContext(null);function B(){let e=r.useContext(P);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let V=r.forwardRef((e,t)=>{let{orientation:s="horizontal",opts:l,setApi:o,plugins:i,className:n,children:c,...d}=e,[u,m]=(0,z.A)({...l,axis:"horizontal"===s?"x":"y"},i),[f,h]=r.useState(!1),[x,p]=r.useState(!1),g=r.useCallback(e=>{e&&(h(e.canScrollPrev()),p(e.canScrollNext()))},[]),j=r.useCallback(()=>{null==m||m.scrollPrev()},[m]),N=r.useCallback(()=>{null==m||m.scrollNext()},[m]),v=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),j()):"ArrowRight"===e.key&&(e.preventDefault(),N())},[j,N]);return r.useEffect(()=>{m&&o&&o(m)},[m,o]),r.useEffect(()=>{if(m)return g(m),m.on("reInit",g),m.on("select",g),()=>{null==m||m.off("select",g)}},[m,g]),(0,a.jsx)(P.Provider,{value:{carouselRef:u,api:m,opts:l,orientation:s||((null==l?void 0:l.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:N,canScrollPrev:f,canScrollNext:x},children:(0,a.jsx)("div",{ref:t,onKeyDownCapture:v,className:(0,R.cn)("relative",n),role:"region","aria-roledescription":"carousel",...d,children:c})})});V.displayName="Carousel";let M=r.forwardRef((e,t)=>{let{className:s,...r}=e,{carouselRef:l,orientation:o}=B();return(0,a.jsx)("div",{ref:l,className:"overflow-hidden",children:(0,a.jsx)("div",{ref:t,className:(0,R.cn)("flex","horizontal"===o?"-ml-4":"-mt-4 flex-col",s),...r})})});M.displayName="CarouselContent";let Z=r.forwardRef((e,t)=>{let{className:s,...r}=e,{orientation:l}=B();return(0,a.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,R.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",s),...r})});Z.displayName="CarouselItem";let $=r.forwardRef((e,t)=>{let{className:s,variant:r="outline",size:l="icon",...o}=e,{orientation:i,scrollPrev:n,canScrollPrev:c}=B();return(0,a.jsxs)(y.$,{ref:t,variant:r,size:l,className:(0,R.cn)("absolute h-8 w-8 rounded-full","horizontal"===i?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),onClick:n,disabled:!c,...o,children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});$.displayName="CarouselPrevious";let H=r.forwardRef((e,t)=>{let{className:s,variant:r="outline",size:l="icon",...o}=e,{orientation:i,scrollNext:n,canScrollNext:c}=B();return(0,a.jsxs)(y.$,{ref:t,variant:r,size:l,className:(0,R.cn)("absolute h-8 w-8 rounded-full","horizontal"===i?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),onClick:n,disabled:!c,...o,children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Next slide"})]})});H.displayName="CarouselNext";var q=s(85805),W=s(35317);let J=e=>({...e,createdAt:e.createdAt instanceof W.Dc?e.createdAt.toDate().toISOString():e.createdAt,updatedAt:e.updatedAt instanceof W.Dc?e.updatedAt.toDate().toISOString():e.updatedAt}),G=e=>({...e,expiryDate:e.expiryDate instanceof W.Dc?e.expiryDate.toDate().toISOString():e.expiryDate,createdAt:e.createdAt instanceof W.Dc?e.createdAt.toDate().toISOString():e.createdAt,updatedAt:e.updatedAt instanceof W.Dc?e.updatedAt.toDate().toISOString():e.updatedAt}),K=e=>({...e,publishedAt:e.publishedAt instanceof W.Dc?e.publishedAt.toDate().toISOString():e.publishedAt,createdAt:e.createdAt instanceof W.Dc?e.createdAt.toDate().toISOString():e.createdAt,updatedAt:e.updatedAt instanceof W.Dc?e.updatedAt.toDate().toISOString():e.updatedAt});function Y(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[c,w]=(0,r.useState)([]),[C,S]=(0,r.useState)([]),[D,E]=(0,r.useState)([]),[R,O]=(0,r.useState)(!0),[k,z]=(0,r.useState)(""),[_,P]=(0,r.useState)("all"),[B,W]=(0,r.useState)([]),[Y,Q]=(0,r.useState)([]),[X,ee]=(0,r.useState)(""),[et,es]=(0,r.useState)([]),ea=r.useRef((0,q.A)({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0,stopOnFocusIn:!0}));(0,r.useEffect)(()=>{(async()=>{O(!0);try{let[e,s,a,r,o,i]=await Promise.all([(0,l.yg)(),(0,l.zC)(),(0,l.mx)(),(0,l.t1)(),(0,l.f4)(3),(0,l.uw)()]);t(e.map(J)),n(s.map(J)),w(a.map(G)),S(r),E(o.map(K)),W(i)}catch(e){console.error("Error fetching homepage data:",e)}finally{O(!1)}})()},[]),(0,r.useEffect)(()=>{let t=e;"all"!==_&&(t=t.filter(e=>e.category===_)),k&&(t=t.filter(e=>e.name.toLowerCase().includes(k.toLowerCase())||e.category&&e.category.toLowerCase().includes(k.toLowerCase()))),Q(t.slice(0,8))},[k,_,e]),(0,r.useEffect)(()=>{let e=c;X&&(e=c.filter(e=>e.code.toLowerCase().includes(X.toLowerCase())||e.description.toLowerCase().includes(X.toLowerCase())||e.store&&e.store.toLowerCase().includes(X.toLowerCase()))),es(e.slice(0,3))},[X,c]);let er=s.slice(0,6),el=s.slice(0,4),eo=C.slice(0,3);return R?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-12rem)]",children:[(0,a.jsx)(m.A,{className:"h-16 w-16 animate-spin text-primary mb-6"}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground",children:"Carregando SmartAcessorios..."})]}):(0,a.jsxs)("div",{className:"space-y-12",children:[er.length>0&&(0,a.jsxs)("section",{className:"relative group",children:[(0,a.jsx)("div",{className:"flex items-center justify-between gap-2 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-7 w-7 text-accent"}),(0,a.jsx)("h2",{className:"text-3xl font-bold font-headline",children:"Destaques Imperd\xedveis"})]})}),(0,a.jsxs)(V,{opts:{align:"start",loop:er.length>1},plugins:[ea.current],onMouseEnter:ea.current.stop,onMouseLeave:ea.current.play,className:"w-full",children:[(0,a.jsx)(M,{className:"-ml-4",children:er.map((e,t)=>(0,a.jsx)(Z,{className:"basis-full pl-4",children:(0,a.jsx)("div",{className:"p-1 h-full",children:(0,a.jsx)(o.default,{accessory:e,priority:0===t})})},"carousel-".concat(e.id)))}),er.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($,{variant:"ghost",className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full bg-background/60 text-foreground hover:bg-background/90 hover:text-foreground opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden sm:flex items-center justify-center shadow-md"}),(0,a.jsx)(H,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full bg-background/60 text-foreground hover:bg-background/90 hover:text-foreground opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden sm:flex items-center justify-center shadow-md"})]})]})]}),er.length>0&&(0,a.jsx)(v.Separator,{className:"my-8"}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-7 w-7 text-primary"}),(0,a.jsx)("h2",{className:"text-3xl font-bold font-headline",children:"Mais Ofertas do Dia"})]}),s.length>el.length&&(0,a.jsx)(y.$,{variant:"outline",asChild:!0,size:"sm",children:(0,a.jsxs)(b(),{href:"/deals",children:["Ver Todas as Ofertas ",(0,a.jsx)(x.A,{className:"ml-2 h-4 w-4"})]})})]}),el.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:el.map(e=>(0,a.jsx)(o.default,{accessory:e},"grid-".concat(e.id)))}):(0,a.jsx)("p",{className:"text-center text-muted-foreground py-10",children:"Nenhuma oferta do dia dispon\xedvel no momento. Volte mais tarde!"})]}),(0,a.jsx)(v.Separator,{className:"my-8"}),D.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-7 w-7 text-primary"}),(0,a.jsx)("h2",{className:"text-3xl font-bold font-headline",children:"\xdaltimos Artigos do Blog"})]}),(0,a.jsx)(y.$,{variant:"outline",asChild:!0,size:"sm",children:(0,a.jsxs)(b(),{href:"/blog",children:["Ver Todos os Artigos ",(0,a.jsx)(x.A,{className:"ml-2 h-4 w-4"})]})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(e=>(0,a.jsx)(u.default,{post:e},e.id))})]}),(0,a.jsx)(v.Separator,{className:"my-8"}),c.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-7 w-7 text-accent"}),(0,a.jsx)("h2",{className:"text-3xl font-bold font-headline",children:"Cupons Promocionais"})]}),c.length>et.length&&c.length>3&&(0,a.jsx)(y.$,{variant:"outline",asChild:!0,size:"sm",children:(0,a.jsxs)(b(),{href:"/coupons",children:["Ver Todos ",(0,a.jsx)(x.A,{className:"ml-2 h-4 w-4"})]})})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(A.p,{type:"search",placeholder:"Buscar cupom por nome ou loja...",className:"w-full md:w-1/2 lg:w-1/3",value:X,onChange:e=>ee(e.target.value)})}),et.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:et.map(e=>(0,a.jsx)(i.default,{coupon:e},e.id))}):(0,a.jsx)("p",{className:"text-center text-muted-foreground py-10",children:X?"Nenhum cupom encontrado com os filtros atuais.":"Nenhum cupom promocional dispon\xedvel no momento."})]}),(0,a.jsx)(v.Separator,{className:"my-8"}),eo.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between gap-2 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-7 w-7 text-primary"}),(0,a.jsx)("h2",{className:"text-3xl font-bold font-headline",children:"O Que Nossos Clientes Dizem"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eo.map(e=>(0,a.jsx)(d,{testimonial:e},e.id))})]}),(0,a.jsx)(v.Separator,{className:"my-8"}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-7 w-7 text-primary"}),(0,a.jsx)("h2",{className:"text-3xl font-bold font-headline",children:"Mais Acess\xf3rios"})]}),e.length>Y.length&&(0,a.jsx)(y.$,{variant:"outline",asChild:!0,size:"sm",children:(0,a.jsxs)(b(),{href:"/products",children:["Ver Todos ",(0,a.jsx)(x.A,{className:"ml-2 h-4 w-4"})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,a.jsx)(A.p,{type:"search",placeholder:"Buscar por nome ou categoria...",className:"w-full sm:flex-grow",value:k,onChange:e=>z(e.target.value)}),(0,a.jsxs)(I,{value:_,onValueChange:P,children:[(0,a.jsx)(U,{className:"w-full sm:w-auto sm:min-w-[200px]",children:(0,a.jsx)(T,{placeholder:"Filtrar por categoria"})}),(0,a.jsxs)(L,{children:[(0,a.jsx)(F,{value:"all",children:"Todas as Categorias"}),B.map(e=>(0,a.jsx)(F,{value:e,children:e},e))]})]})]}),Y.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Y.map(e=>(0,a.jsx)(o.default,{accessory:e},e.id))}):(0,a.jsx)("p",{className:"text-center text-muted-foreground py-10",children:"Nenhum acess\xf3rio encontrado com os filtros atuais."})]})]})}},66681:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,AuthProvider:()=>c});var a=s(12115),r=s(56104),l=s(93004),o=s(35317),i=s(35695);let n=(0,a.createContext)(void 0);function c(e){var t;let{children:s}=e,[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(!0),x=(0,i.useRouter)(),p=(0,a.useCallback)(async e=>{console.log("useAuth: processAuthStateChange TRIGGERED. fbUser UID:",e?e.uid:"null"),h(!0);try{if(e){console.log("useAuth: fbUser detected. Setting firebaseUser state for UID:",e.uid),m(e),console.log("useAuth: Fetching Firestore data for UID:",e.uid);let t=(0,o.H9)(r.db,"usuarios",e.uid),s=await (0,o.x7)(t);if(s.exists()){let t=s.data(),a={id:e.uid,email:e.email,name:t.name||e.displayName||"Usu\xe1rio",isAdmin:t.isAdmin||!1};console.log("useAuth: Firestore data found & AuthUser set for UID: ".concat(e.uid,", Name: ").concat(a.name,", Admin: ").concat(a.isAdmin)),d(a)}else if(console.warn("useAuth: User ".concat(e.uid," authenticated (Firebase Auth) but NO Firestore document.")),e.providerData.some(e=>e.providerId===l.HF.PROVIDER_ID)){console.log("useAuth: User ".concat(e.uid," is a new social login (e.g., Google). Creating Firestore document."));let s={id:e.uid,name:e.displayName||"Usu\xe1rio Social",email:e.email||"email.social@desconhecido.com",isAdmin:!1,avatarUrl:e.photoURL||"https://placehold.co/150x150.png?text=".concat((e.displayName||"S").charAt(0).toUpperCase()),avatarHint:"user avatar social",bio:"Novo membro via login social!"};await (0,o.BN)(t,{...s,createdAt:(0,o.O5)(),updatedAt:(0,o.O5)()}),console.log("useAuth: Firestore document CREATED for new social user: ".concat(e.uid));let a={id:s.id,email:s.email,name:s.name,isAdmin:s.isAdmin};d(a)}else console.warn("useAuth: User ".concat(e.uid," authenticated via non-social method but NO Firestore document. Forcing logout.")),await (0,l.CI)(r.j)}else console.log("useAuth: No Firebase user (logged out or initial state). Clearing authUser and firebaseUser states."),d(null),m(null)}catch(e){if(console.error("useAuth: CRITICAL ERROR inside processAuthStateChange:",e),d(null),m(null),r.j.currentUser){console.log("useAuth: Attempting to sign out Firebase user due to error in processAuthStateChange.");try{await (0,l.CI)(r.j)}catch(e){console.error("useAuth: Error attempting to sign out Firebase user after error in processAuthStateChange:",e)}}}finally{console.log("useAuth: processAuthStateChange - Bloco FINALLY. Definindo isLoading para FALSE."),h(!1)}},[]);(0,a.useEffect)(()=>{console.log("useAuth: Setting up onAuthStateChanged listener.");let e=(0,l.hg)(r.j,e=>{p(e)});return()=>{console.log("useAuth: Cleaning up onAuthStateChanged listener (AuthProvider unmounted)."),e()}},[p]);let g=(0,a.useCallback)(async()=>{console.log("useAuth: logout function called."),h(!0);try{await (0,l.CI)(r.j),console.log("useAuth: signOut successful. Navigating to homepage."),x.push("/")}catch(e){console.error("useAuth: Error during signOut: ",e),h(!1)}},[x]),j=(0,a.useCallback)(async()=>{console.log("useAuth: refreshAuthUser called.");let e=r.j.currentUser;console.log("useAuth: refreshAuthUser - current Firebase user from auth.currentUser:",e?e.uid:"null"),await p(e)},[p]),N=!f&&!!c&&!!u,v=!f&&null!=(t=null==c?void 0:c.isAdmin)&&t;return a.createElement(n.Provider,{value:{user:c,firebaseUser:u,isAuthenticated:N,isAdmin:v,isLoading:f,logout:g,refreshAuthUser:j}},s)}function d(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>o,aR:()=>i,wL:()=>u});var a=s(95155),r=s(12115),l=s(59434);let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});o.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});n.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},87481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var a=s(12115);let r=0,l=new Map,o=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],c={toasts:[]};function d(e){c=i(c,e),n.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},89432:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(95155),r=s(66695),l=s(30285),o=s(26126),i=s(8376),n=s(15599),c=s(61840),d=s(98328),u=s(87481),m=s(12115),f=s(6874),h=s.n(f);function x(e){let{coupon:t}=e,{toast:s}=(0,u.dj)(),[f,x]=(0,m.useState)(!1),[p,g]=(0,m.useState)(null);return(0,m.useEffect)(()=>{t.expiryDate&&g(new Date(t.expiryDate).toLocaleDateString("pt-BR",{timeZone:"UTC"}))},[t.expiryDate]),(0,a.jsxs)(r.Zp,{className:"flex flex-col overflow-hidden rounded-lg shadow-lg h-full bg-secondary/20 border-dashed border-primary/50",children:[(0,a.jsxs)(r.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)(r.ZB,{className:"text-xl font-bold text-primary flex items-center",children:t.discount}),t.store&&(0,a.jsx)(o.E,{variant:"outline",children:t.store})]}),(0,a.jsx)(r.BT,{className:"text-sm",children:t.description})]}),(0,a.jsxs)(r.Wu,{className:"flex-grow pb-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background rounded-md border border-dashed",children:[(0,a.jsx)("span",{className:"text-lg font-mono font-semibold text-accent",children:t.code}),(0,a.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(t.code).then(()=>{x(!0),s({title:"C\xf3digo Copiado!",description:"O c\xf3digo ".concat(t.code," foi copiado para a \xe1rea de transfer\xeancia.")}),setTimeout(()=>x(!1),2e3)}).catch(e=>{console.error("Falha ao copiar c\xf3digo: ",e),s({title:"Erro ao Copiar",description:"N\xe3o foi poss\xedvel copiar o c\xf3digo. Tente manualmente.",variant:"destructive"})})},"aria-label":"Copiar c\xf3digo do cupom",children:f?(0,a.jsx)(i.A,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(n.A,{className:"h-5 w-5"})})]}),t.applyUrl&&(0,a.jsx)(l.$,{asChild:!0,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",children:(0,a.jsxs)(h(),{href:t.applyUrl,target:"_blank",rel:"noopener noreferrer",children:["Usar Cupom ",(0,a.jsx)(c.A,{className:"ml-2 h-4 w-4"})]})})]}),t.expiryDate&&(0,a.jsx)(r.wL,{className:"text-xs text-muted-foreground pt-0 pb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["V\xe1lido at\xe9: ",p||"..."]})]})})]})}},91394:(e,t,s)=>{"use strict";s.d(t,{BK:()=>n,eu:()=>i,q5:()=>c});var a=s(95155),r=s(12115),l=s(85977),o=s(59434);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=l.bL.displayName;let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l._V,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",s),...r})});n.displayName=l._V.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.H4,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});c.displayName=l.H4.displayName},91420:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(95155),r=s(68098),l=s(30285),o=s(59434);function i(e){let{isFavorite:t,onClick:s,className:i}=e;return(0,a.jsx)(l.$,{variant:"ghost",size:"icon",onClick:e=>{e.preventDefault(),s()},className:(0,o.cn)("rounded-full hover:bg-destructive/10",i),"aria-label":t?"Remover dos favoritos":"Adicionar aos favoritos",children:(0,a.jsx)(r.A,{className:(0,o.cn)("h-5 w-5",t?"fill-destructive text-destructive":"text-muted-foreground")})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,6073,6874,3796,2964,6257,6766,5373,5152,7145,2421,8441,1684,7358],()=>t(54237)),_N_E=e.O()}]);